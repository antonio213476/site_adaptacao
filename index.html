<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="codigo/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <title>Pokemon Site</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">
            <img class="img-fluid border-0 rounded-0" src="imagens/pokemon.png" alt="" class="">
            </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a class="nav-link active fs-5 me-3" aria-current="page" href="index.html">HOME</a>
              </li>
              <li class="nav-item">
                <a class="nav-link fs-5 me-3" href="codigo/galeria.html">GALERIA</a>
              </li>
              <li class="nav-item">
                <a class="nav-link fs-5 me-3" href="codigo/conta.html">CONTA</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      
        <div class="card text-bg-dark border-0 rounded-0">
            <img src="imagens/temosQuePegar.png" class="card-img" alt=".">
            <div class="card-img-overlay img-fluid d-inline-flex flex-column justify-content-center">
                <p class="card-title fw-bold ms-4">TEMOS QUE PEGAR!</p>  
                <p class="card-text fw-light ms-4 w-50 mb-2">Bem-vindo ao mundo Pokémon!
                    Se você é um fã de longa data ou apenas está
                    descobrindo essa incrível franquia, este site é o
                    lugar perfeito para você.
                </p>  
                <button id="botaoCadastrar" type="button" class="btn btn-primary ms-4 w-25 btn-sm" onclick="location.href ='codigo/cadastro.html'">
                    CADASTRAR
                </button>
            </div>
        </div>
    <!-- teste -->

    <div class="mt-5 mb-5">
        <h1 class="fs-1 fw-bold ms-5 text-decoration-underline"> POKEDEX </h1>
        <div class="card-group me-5 ms-5">
            <div class="card border-0">
               <a href="https://www.pokemon.com/br/pokedex/bulbasaur"> 
                <img src="imagens/pokemon1.jfif" class="img-fluid" alt="">  
               </a>
            </div>
            <div class="card border-0 me-5">
                <a href="https://www.pokemon.com/br/pokedex/ivysaur"> 
                 <img src="imagens/pokemon2.jfif" class="img-fluid" alt="">  
                </a>
            </div>
            <div class="card border-0 me-5">
                <a href="https://www.pokemon.com/br/pokedex/venusaur"> 
                 <img src="imagens/pokemon3.jfif" class="img-fluid" alt="">  
                </a>
            </div>
            <div class="card border-0 me-5">
                <a href="https://www.pokemon.com/br/pokedex/charmander"> 
                 <img src="imagens/pokemon4.jfif" class="img-fluid" alt="">  
                </a>
              </div>
          </div>
          <a href="codigo/galeria.html" class="fs-5 fw-medium mt-3 me-5 d-flex flex-row-reverse"> VEJA MAIS </a>
    </div>
    <script>
        function validarEmail(string) {
          return String(string)
            .toLowerCase()
            .match(
              /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
            );
        }
        function validarSenha(string) {
          return String(string)
            .match(
              /.{8,}/
            ); 
        }

        function cadastrar(email,senha,nome,textoErro){
          if(email.value === '') {
            console.warn('ERRO: E-mail não presente')
            textoErro.textContent = 'ERRO: E-mail não presente'
            return
          }
          if(senha.value === '') {
            console.warn('ERRO: Senha não presente')
            textoErro.textContent = 'ERRO: Senha não presente'
            return
          }
          if(nome.value === '') {
            console.warn('ERRO: Nome não presente')
            textoErro.textContent = 'ERRO: Nome não presente'
            return
          }
          if(validarEmail(email.value)) {
            if(validarSenha(senha.value)) {
              localStorage.setItem("senha", senha.value);
              localStorage.setItem("email", email.value); 
              localStorage.setItem("nome", nome.value); 
              textoErro.textContent = ''
              location.href = "codigo/conta.html";

              console.log('Cadastro feito com sucesso')
              return
            }
            console.warn('Senha incompleta')
            textoErro.textContent = 'ERRO: A senha deve conter 8 characteres.'
            return
          } 
          console.warn('E-mail invalido')
          textoErro.textContent = 'ERRO: E-mail invalido'
          return
        }


        function cadastroDesktop() {
          let email = document.getElementById('Email')
          let senha = document.getElementById('Senha')
          let nome = document.getElementById('Nome')
          let textoErro = document.getElementById('textoErro')
          
          console.log('Iniciando cadastro')
          cadastrar(email,senha,nome,textoErro)
        }

        function cadastrarMobile() {
          let emailM = document.getElementById('EmailMobile')
          let senhaM = document.getElementById('SenhaMobile')
          let nomeM = document.getElementById('NomeMobile')
          let textoErroM = document.getElementById('textoErroMobile')

          console.log('Iniciando cadastro')
          cadastrar(emailM,senhaM,nomeM,textoErroM)
        }

        function conta() {
          if(localStorage.getItem("email")) {
            location.href = "codigo/conta.html";
            return
          }
          window.scrollTo(0, document.body.scrollHeight)
        }

        function esconderCadastros() {
          if(localStorage.getItem("senha")){
          document.getElementById("botaoCadastrar").style = "display: none"
        }
        }
        
        esconderCadastros()
    </script>

    <div id="cadastroMobile" class="text-center" style="background-color: #306CB4;">
      <p 
        class="fs-1 fw-bold text-center text-white" 
       >
      CADASTRE-SE
      </p>
      <input 
          type="email" 
          class="form-control w-50 mt-3 text-center mx-auto col-10 col-md-8 col-lg-6" 
          id="NomeMobile" 
          placeholder="Nome de usuário"
        >
        <input 
          type="email" 
          class="form-control w-50 mt-3 text-center mx-auto col-10 col-md-8 col-lg-6" 
          id="EmailMobile" 
          placeholder="exemplo@email.com"
        >
        <input 
          type="password" 
          class="form-control w-50 mt-3 mb-3 text-center mx-auto col-10 col-md-8 col-lg-6" 
          id="SenhaMobile" 
          placeholder="Senha"
        >
        <p id="textoErroMobile" class="text-danger fw-bold text-center"></p>
        <button 
            type="button" 
            class="
                botaoConcluir btn btn-warning 
                w-50 border-4 border-warning-subtle 
                rounded text-white 
                fw-bold mb-3" 
            onclick="cadastrarMobile()"
            style="font-size: 3vw;"
            >
            CONCLUIR
        </button>
    </div>

    <div id="cadastroDesktop" class="card text-bg-dark border-0 rounded-0 mt-5">
        <img src="imagens/Cadastro.png" class="card-img border-0 rounded-0" alt=".">
        <div class="card-img-overlay img-fluid d-inline-flex flex-column justify-content-center align-items-center w-50">
            <p 
              class="card-title fs-1 fw-bold" 
              >
              CADASTRE-SE
            </p>  
            <input 
                type="email" 
                class="form-control w-75 mt-3 mb-3" 
                id="Nome" 
                placeholder="Nome de usuário"
            >
            <input 
                type="email" 
                class="form-control w-75 mb-3 " 
                id="Email" 
                placeholder="exemplo@email.com"
            >
            <input 
                type="password" 
                class="form-control w-75 mb-3" 
                id="Senha" 
                placeholder="Senha"
            > 
            <p id="textoErro" class="text-danger fw-bold"></p>
            <button 
              type="button" 
              class="
                botaoConcluir btn btn-warning 
                w-25 border-4 border-warning-subtle 
                rounded text-white 
                fw-bold btn" 
              onclick="cadastroDesktop()"
              >
                CONCLUIR
            </button>
        </div>
    </div>

    <nav class="navbar bottom navbar-expand-sm navbar-dark" style="background-color: #21386E;">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">
            <img class="img-fluid" src="imagens/PokemonEnd.png" alt="" class="">
            </a>
          
            <ul class="navbar-nav ms-auto me-5">
              <li class="nav-item">
                <img class="img-fluid" src="imagens/Instagram.png" alt="" class="">
              </li>
              <li class="nav-item">
                <img class="img-fluid" src="imagens/TikTok.png" alt="" class="">
              </li>
              <li class="nav-item">
                <img class="img-fluid" src="imagens/WhatsApp.png" alt="" class="">
              </li>
            </ul>
          </div>
      </nav>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</body>
</html>